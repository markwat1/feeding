# 実装計画

- [x] 1. プロジェクト構造とデータベースの初期設定

  - プロジェクトディレクトリ構造を作成し、フロントエンドとバックエンドの基本設定を行う
  - SQLite データベースの接続設定とテーブル作成マイグレーションを実装する
  - _要件: 1.1, 2.1, 3.1, 4.1, 5.1, 6.1_

- [x] 1.1 バックエンドプロジェクトの初期化

  - Node.js + Express + TypeScript の基本設定を行う
  - 必要なパッケージのインストールと tsconfig.json の設定を行う
  - _要件: 1.1, 2.1, 3.1, 4.1, 5.1, 6.1_

- [x] 1.2 データベーススキーマとマイグレーションの実装

  - SQLite データベース接続設定を作成する
  - 全テーブル（pets, food_types, feeding_schedules, feeding_records, weight_records, maintenance_records）の CREATE 文を実装する
  - _要件: 1.1, 2.1, 3.1, 4.1, 5.1, 6.1_

- [x] 1.3 フロントエンドプロジェクトの初期化

  - React + TypeScript プロジェクトを作成する
  - 必要なパッケージ（React Router, React Hook Form, Chart.js 等）をインストールする
  - _要件: 1.1, 2.1, 3.1, 4.1, 5.1, 6.1_

- [x] 2. データモデルと API エンドポイントの実装

  - TypeScript 型定義とデータベースモデルクラスを作成する
  - 各エンティティの CRUD 操作を行う API エンドポイントを実装する
  - _要件: 1.1-1.5, 2.1-2.5, 3.1-3.5, 5.1-5.5_

- [x] 2.1 ペット管理 API の実装

  - Pet 型定義と Pet モデルクラスを作成する
  - ペットの CRUD 操作を行う API エンドポイント（GET, POST, PUT, DELETE /api/pets）を実装する
  - _要件: 5.1, 5.2_

- [x] 2.2 餌の種類管理 API の実装

  - FoodType 型定義と FoodType モデルクラスを作成する
  - 餌の種類の CRUD 操作を行う API エンドポイント（GET, POST, PUT, DELETE /api/food-types）を実装する
  - _要件: 1.2, 1.5_

- [x] 2.3 餌やりスケジュール管理 API の実装

  - FeedingSchedule 型定義と FeedingSchedule モデルクラスを作成する
  - 餌やりスケジュールの CRUD 操作を行う API エンドポイント（GET, POST, PUT, DELETE /api/feeding-schedules）を実装する
  - _要件: 1.3, 1.4, 1.5_

- [x] 2.4 餌やり記録管理 API の実装

  - FeedingRecord 型定義と FeedingRecord モデルクラスを作成する
  - 餌やり記録の CRUD 操作を行う API エンドポイント（GET, POST, PUT, DELETE /api/feeding-records）を実装する
  - _要件: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 2.5 体重記録管理 API の実装

  - WeightRecord 型定義と WeightRecord モデルクラスを作成する
  - 体重記録の CRUD 操作を行う API エンドポイント（GET, POST, PUT, DELETE /api/weight-records）を実装する
  - _要件: 5.3, 5.5_

- [x] 2.6 メンテナンス記録管理 API の実装

  - MaintenanceRecord 型定義と MaintenanceRecord モデルクラスを作成する
  - メンテナンス記録の CRUD 操作を行う API エンドポイント（GET, POST, PUT, DELETE /api/maintenance-records）を実装する
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 3. フロントエンド基盤とルーティングの実装

  - React Router を使用したページルーティングを設定する
  - 共通コンポーネント（Header, Navigation）を作成する
  - API サービス層を実装する
  - _要件: 1.1-1.5, 2.1-2.5, 3.1-3.5, 4.1-4.5, 5.1-5.5, 6.1-6.6_

- [x] 3.1 ルーティングとナビゲーションの実装

  - React Router を設定し、各ページへのルーティングを実装する
  - ナビゲーションコンポーネントを作成し、メニュー項目を配置する
  - _要件: 1.1-1.5, 2.1-2.5, 3.1-3.5, 4.1-4.5, 5.1-5.5, 6.1-6.6_

- [x] 3.2 API サービス層の実装

  - axios を使用した HTTP クライアントを設定する
  - 各エンティティの API 呼び出し関数を実装する（pets, foodTypes, feedingSchedules, feedingRecords, weightRecords, maintenanceRecords）
  - _要件: 1.1-1.5, 2.1-2.5, 3.1-3.5, 4.1-4.5, 5.1-5.5, 6.1-6.6_

- [x] 3.3 共通コンポーネントの実装

  - Header コンポーネントを作成する
  - 共通のフォームコンポーネント（入力フィールド、ボタン等）を作成する
  - _要件: 1.1-1.5, 2.1-2.5, 3.1-3.5, 4.1-4.5, 5.1-5.5, 6.1-6.6_

- [x] 4. ペット管理機能の実装

  - ペット登録・編集・削除機能を実装する
  - 体重記録機能と体重推移グラフを実装する
  - _要件: 5.1, 5.2, 5.3, 5.4, 5.5_

- [x] 4.1 ペット一覧・登録・編集画面の実装

  - PetList コンポーネントでペット一覧表示を実装する
  - PetForm コンポーネントでペット登録・編集フォームを実装する
  - _要件: 5.1, 5.2_

- [x] 4.2 体重記録機能の実装

  - 体重記録フォームを実装する
  - 体重記録一覧表示を実装する
  - _要件: 5.3, 5.5_

- [x] 4.3 体重推移グラフの実装

  - Chart.js を使用して体重の時系列グラフを実装する
  - グラフの期間選択機能を実装する
  - _要件: 5.4_

- [x] 5. 餌やり管理機能の実装

  - 餌の種類管理機能を実装する
  - 餌やりスケジュール設定機能を実装する
  - 餌やり記録入力機能を実装する
  - _要件: 1.1-1.5, 2.1-2.5_

- [x] 5.1 餌の種類管理画面の実装

  - 餌の種類一覧表示を実装する
  - 餌の種類登録・編集フォーム（品名、メーカー名、説明）を実装する
  - _要件: 1.2, 1.5_

- [x] 5.2 餌やりスケジュール管理画面の実装

  - 餌やりスケジュール一覧表示を実装する
  - 餌やりスケジュール登録・編集フォーム（時刻、餌の種類選択）を実装する
  - _要件: 1.1, 1.3, 1.4, 1.5_

- [x] 5.3 餌やり記録入力画面の実装

  - 事前登録されたスケジュールから選択する機能を実装する
  - 実際の給餌時刻入力と完食状況選択機能を実装する
  - 餌やり記録の保存機能を実装する
  - _要件: 2.1, 2.2, 2.3, 2.4_

- [x] 5.4 餌やり記録一覧画面の実装

  - 餌やり記録を日付順で表示する機能を実装する
  - 記録の編集・削除機能を実装する
  - _要件: 2.5_

- [x] 6. メンテナンス記録機能の実装

  - 給水器・トイレのメンテナンス記録機能を実装する
  - メンテナンス記録の一覧表示機能を実装する
  - _要件: 3.1-3.5_

- [x] 6.1 メンテナンス記録入力画面の実装

  - メンテナンス種類選択（給水器・トイレ）機能を実装する
  - 実施日時とメンテナンス内容入力機能を実装する
  - _要件: 3.1, 3.2, 3.3_

- [x] 6.2 メンテナンス記録一覧画面の実装

  - メンテナンス記録を日付順で表示する機能を実装する
  - 記録の編集・削除機能を実装する
  - _要件: 3.4, 3.5_

- [x] 7. 記録検索・集計機能の実装

  - 日付範囲での記録検索機能を実装する
  - 完食率の集計表示機能を実装する
  - CSV エクスポート機能を実装する
  - _要件: 4.1-4.5_

- [x] 7.1 記録検索機能の実装

  - 餌やり記録の日付範囲検索を実装する
  - メンテナンス記録の日付範囲検索を実装する
  - _要件: 4.1, 4.2_

- [x] 7.2 統計・集計機能の実装

  - 完食率の期間別集計表示を実装する
  - ダッシュボードで直近 7 日間の餌やり状況表示を実装する
  - _要件: 4.3, 4.5_

- [x] 7.3 データエクスポート機能の実装

  - 記録データの CSV 形式エクスポート機能を実装する
  - エクスポート対象期間の選択機能を実装する
  - _要件: 4.4_

- [x] 8. カレンダービュー機能の実装

  - 月間カレンダー表示機能を実装する
  - カレンダー上での記録表示と詳細表示機能を実装する
  - _要件: 6.1-6.6_

- [x] 8.1 カレンダーコンポーネントの実装

  - 月間カレンダーの基本表示を実装する
  - 前月・次月への移動機能を実装する
  - _要件: 6.1, 6.5_

- [x] 8.2 カレンダー上での記録表示機能の実装

  - 餌やり記録を日付別に表示する機能を実装する
  - 完食状況の色分け・アイコン表示を実装する
  - メンテナンス記録のマーカー表示を実装する
  - 餌やり予定の薄い色表示を実装する
  - _要件: 6.1, 6.2, 6.3, 6.6_

- [x] 8.3 カレンダー詳細表示機能の実装

  - 特定日クリック時の詳細記録表示を実装する
  - 詳細表示モーダルまたはサイドパネルを実装する
  - _要件: 6.4_

- [x] 9. テストの実装

  - 主要機能の単体テストを作成する
  - API エンドポイントの統合テストを作成する
  - _要件: 全要件のテストカバレッジ_

- [x] 9.1 バックエンドテストの実装

  - API エンドポイントの統合テストを作成する
  - データベース操作のテストを作成する
  - _要件: 全要件のバックエンド機能_

- [x] 9.2 フロントエンドテストの実装
  - 主要コンポーネントの単体テストを作成する
  - カスタムフックのテストを作成する
  - _要件: 全要件のフロントエンド機能_
